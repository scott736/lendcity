---
import BaseLayout from './BaseLayout.astro';
import CTASection from '../components/CTASection.astro';
import FAQSection from '../components/FAQSection.astro';

interface Props {
  title: string;
  description: string;
  heroImage: string;
  features?: Array<{ title: string; description: string }>;
  faqs?: Array<{ question: string; answer: string }>;
}

const { title, description, heroImage, features = [], faqs = [] } = Astro.props;
---

<BaseLayout title={title} description={description}>
  <!-- Hero -->
  <section class="section bg-gradient-to-br from-dark-900 to-dark-800 text-white">
    <div class="container-site">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <h1 class="text-display-sm md:text-display mb-6">{title}</h1>
          <p class="text-body-lg text-dark-300 mb-8">{description}</p>
          <div class="flex flex-col sm:flex-row gap-4">
            <a
              href="https://outlook.office365.com/book/FreeStrategyCall@lendcity.ca/"
              target="_blank"
              rel="noopener noreferrer"
              class="btn-accent btn-lg"
            >
              Book A Strategy Call
            </a>
            <a
              href="https://velocity-client.newton.ca/en/client/journey/home?shortCode=dvobzvtxzpxc"
              target="_blank"
              rel="noopener noreferrer"
              class="btn-secondary btn-lg border-white text-white hover:bg-white/10"
            >
              Apply Online
            </a>
          </div>
        </div>
        <div class="relative">
          <img
            src={heroImage}
            alt={title}
            width="600"
            height="400"
            class="rounded-2xl shadow-strong"
            loading="eager"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="section">
    <div class="container-article">
      <slot />
    </div>
  </section>

  <!-- Features Grid -->
  {features.length > 0 && (
    <section class="section bg-dark-50">
      <div class="container-site">
        <h2 class="text-headline md:text-display-sm text-center mb-12">Why Choose LendCity?</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {features.map((feature) => (
            <div class="card p-8">
              <h3 class="text-title font-bold mb-3">{feature.title}</h3>
              <p class="text-body text-dark-600">{feature.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- FAQ -->
  {faqs.length > 0 && <FAQSection faqs={faqs} />}

  <!-- CTA -->
  <CTASection />
</BaseLayout>
